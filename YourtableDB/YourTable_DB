DROP TABLE RESERVATION;
DROP TABLE RESTAURANT;
DROP TABLE CUSTOMER;
DROP TABLE RESTAURANTOwner;

CREATE EXTENSION IF NOT EXISTS citext;


CREATE TABLE CUSTOMER (
CUSTOMER_ID INT primary key NOT NULL,
CUSTOMER_NAME VARCHAR(254),
CUSTOMER_EMAIL CITEXT, 
CUSTOMER_USERNAME VARCHAR(80), 
CUSTOMER_PASSWORD VARCHAR(80), 
CUSTOMER_PHONE VARCHAR(20) 
);

CREATE TABLE RESTAURANTOwner (
OWNER_ID INT primary key NOT NULL,
OWNER_NAME VARCHAR(255),
OWNER_EMAIL CITEXT, 
OWNER_USERNAME VARCHAR(80), 
OWNER_PASSWORD VARCHAR(80), 
OWNER_PHONE VARCHAR(20) 
);

CREATE TABLE RESTAURANT (
RESTAURANT_ID SERIAL primary key NOT NULL,
OWNER_ID INT NOT NULL,
RESTAURANT_NAME VARCHAR(255),
RESTAURANT_LAYOUT VARCHAR(255),
CONSTRAINT FK_OWNER_ID FOREIGN key (OWNER_ID) references RESTAURANTOwner(OWNER_ID)
);

CREATE TABLE RESERVATION (
RESTAURANT_ID INT NOT NULL,
CUSTOMER_ID INT NOT NULL,
RESERVATION_TIME Time,
RESERVATION_DATE DATE,
PRIMARY KEY(RESTAURANT_ID,CUSTOMER_ID,RESERVATION_TIME,RESERVATION_DATE),
CONSTRAINT FK_CUSTOMER_ID FOREIGN key (CUSTOMER_ID) references CUSTOMER(CUSTOMER_ID),
CONSTRAINT FK_RESTAURANT_ID FOREIGN key (RESTAURANT_ID) references RESTAURANT(RESTAURANT_ID)
);



INSERT INTO CUSTOMER(CUSTOMER_ID, CUSTOMER_NAME,CUSTOMER_EMAIL,CUSTOMER_USERNAME,CUSTOMER_PASSWORD,CUSTOMER_PHONE)
VALUES (1, 'Meris Bihorac','testmeris@gmail.com','meris2000','Passw0rd','+4367712333213');
INSERT INTO CUSTOMER(CUSTOMER_ID, CUSTOMER_NAME,CUSTOMER_EMAIL,CUSTOMER_USERNAME,CUSTOMER_PASSWORD,CUSTOMER_PHONE)
VALUES (2, 'Martin Mahmody','mahmodysecurity@lego.tr','mahmo00','MAhmoistStarK1','+4367700992112');
INSERT INTO CUSTOMER(CUSTOMER_ID, CUSTOMER_NAME,CUSTOMER_EMAIL,CUSTOMER_USERNAME,CUSTOMER_PASSWORD,CUSTOMER_PHONE)
VALUES (3, 'Sebastian Dorner','Sebastian@dorner.at','bastian13','MyPasswordIsEasy','+436993213213');
INSERT INTO CUSTOMER(CUSTOMER_ID, CUSTOMER_NAME,CUSTOMER_EMAIL,CUSTOMER_USERNAME,CUSTOMER_PASSWORD,CUSTOMER_PHONE)
VALUES (4, 'Vincenz Bimmer','vincenzamg@htl-donaustadt.at','amgc63','AMGforLIFE','+4369921001237');
INSERT INTO CUSTOMER(CUSTOMER_ID, CUSTOMER_NAME,CUSTOMER_EMAIL,CUSTOMER_USERNAME,CUSTOMER_PASSWORD,CUSTOMER_PHONE)
VALUES (5, 'Tobias Kizilirmak','tobikizi@lego.tr','tobias10','Abla12345!','+4367701231672');

INSERT INTO RESTAURANTOWNER(OWNER_ID, OWNER_NAME,OWNER_EMAIL,OWNER_USERNAME,OWNER_PASSWORD,OWNER_PHONE)
VALUES (1, 'Fabio Lupin','falupin@matrix.org','falupin','Ig0th4ck3dLOL!','+43671321321');
INSERT INTO RESTAURANTOWNER(OWNER_ID, OWNER_NAME,OWNER_EMAIL,OWNER_USERNAME,OWNER_PASSWORD,OWNER_PHONE)
VALUES (2, 'Herbert Wolf','herbertw@test.ok','herbertwolf','IamH3rbert.','+436713265741');
INSERT INTO RESTAURANTOWNER(OWNER_ID, OWNER_NAME,OWNER_EMAIL,OWNER_USERNAME,OWNER_PASSWORD,OWNER_PHONE)
VALUES (3, 'Stefan Kurz','stefikurz@samsung.at','stefankurz','st3fankURZ123!','+436713063531');
INSERT INTO RESTAURANTOWNER(OWNER_ID, OWNER_NAME,OWNER_EMAIL,OWNER_USERNAME,OWNER_PASSWORD,OWNER_PHONE)
VALUES (4, 'Luka Lang','lukal@liferando.at','LukaLang','123456789','+4367790913232');
INSERT INTO RESTAURANTOWNER(OWNER_ID, OWNER_NAME,OWNER_EMAIL,OWNER_USERNAME,OWNER_PASSWORD,OWNER_PHONE)
VALUES (5, 'El Aziz','elazizabidi@abidi.com','aziz123','admin123','+436991943212');

INSERT INTO RESTAURANT(RESTAURANT_ID, OWNER_ID,RESTAURANT_NAME,RESTAURANT_LAYOUT)
VALUES (1, 1,'Burger Head','Default1');
INSERT INTO RESTAURANT(RESTAURANT_ID, OWNER_ID,RESTAURANT_NAME,RESTAURANT_LAYOUT)
VALUES (2, 2,'Burgerista','Default2');
INSERT INTO RESTAURANT(RESTAURANT_ID, OWNER_ID,RESTAURANT_NAME,RESTAURANT_LAYOUT)
VALUES (3, 3,'StefanPizza','Default3');

INSERT INTO RESERVATION(RESTAURANT_ID, CUSTOMER_ID,RESERVATION_TIME,RESERVATION_DATE)
VALUES (1, 1,'02:03:04','2021-09-27 ');

